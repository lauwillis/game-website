<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/animate.css">

        <link href='https://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/font-mfizz.css">
        <script src="js/Entities.js"></script>


        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body data-spy="scroll" data-target=".navbar">

<header>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-collapse collapse">
                <ul class="nav nav-justified">
                <li><a data-scroll href="#about">About</a></li>
                <li><a data-scroll href="#features">Features</a></li>
                <li><a data-scroll href="#screenshots">Screenshots</a></li>
                <li><a data-scroll href="#download">Download</a></li>
                <li><a data-scroll href="#tutorial">Tutorial</a></li>
                <li><a data-scroll href="#game">Game</a></li>

                </ul>
            </div>
        </div>
        <div class="navbar-header">

            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class ="icon-bar"></span>
                <span class ="icon-bar"></span>
                <span class ="icon-bar"></span>
            </button>

        </div>
    </nav>
</header>

<div class="backgroundvideo">
<video id="video" preload="auto" autoplay="true" loop="loop" muted="muted">
    
<source src="video/energy.mp4" type="video/mp4">



</video>

</div>


<section id="about" class="about">
<div class="container">
    <div class="row">
    <h3 class="text-uppercase text-center"> Built purely by </h3>
        <div class="col-sm-4">
            <div class="blue-circle animation1"> 
                  <div>
                <i class="fa fa-html5"></i>
                </div>

            </div>


    <h3 class="text-uppercase text-center">HTML5</h3>
    <p class="text-center">The HTML canvas element is used to draw graphics, on the fly, via scripting (usually JavaScript). Canvas has several methods for drawing paths, boxes, circles, text, and adding images.</p>
        </div>
        <div class="col-sm-4">
            <div class="blue-circle animation2"> 
               <div>
                <i class="icon-javascript"></i>
                </div>

            </div>


    <h3 class="text-uppercase text-center">Javascript</h3>
    <p class="text-center">All of the code is written in pure Javascript using the HTML5 canvas element. Sprite animations, bullets, health bar, positions, and etc relies on Javascript. </p>
        </div>


        <div class="col-sm-4">
            <div class="blue-circle animation3"> 
                <div>
                <i class="fa fa-css3"></i>


                </div>

            </div>


    <h3 class="text-uppercase text-center">CSS3</h3>
    <p class="text-center">CSS3 is used to style the canvas. This includes the map, border colors, and the positioning of the canvas.  </p>
        </div>
            </div>
</div>

</section>


<section id="features" class="features">
    <h2 class="text-center text-uppercase">Features</h2>

    <div class="container">

             <div class="row">

                <div class="left-features col-sm-4">
                    <div class="item-feature row">
                        <div class="content col-sm-8">
                            <h4>Co-Op play!</h4>
                            <p>Getting wrecked by dragons with your friends is more fun than getting wrecked alone.</p>
                        </div> 

                            <div class="col-sm-4">
                        <div class="blue-circle animation1">
                            
                                  <div>
                                 <i class="fa fa-users"></i>

                                 </div>

                        </div>
                     
                            </div>
                    </div>
                    <div class="item-feature row">
                        <div class="content col-sm-8">
                            <h4>Cool Skills</h4>
                            <p>You can fire bullets that goes in 360 degrees. What more can you ask for? </p>
                        </div> 

                            <div class="col-sm-4">
                        <div class="blue-circle animation1">
                            
                             <div>
                             <i class="fa fa-bolt"></i>

                            </div>

                        </div>
                     
                            </div>
                    </div>
                    <div class="item-feature row">
                        <div class="content col-sm-8">
                            <h4>Lag Free</h4>
                            <p>This doesn't include dial-up users. You may teleport around the screen. </p>
                        </div> 

                            <div class="col-sm-4">
                        <div class="blue-circle animation1">
                             <div>
                             <i class="fa fa-spinner fa-pulse"></i>

                            </div>

                        </div>
                     
                            </div>
                    </div>
                    <div class="item-feature row">
                        <div class="content col-sm-8">
                            <h4>Quests</h4>
                            <p>There aren't really any quests. You kind of just wander around aimlessly.</p>
                        </div> 

                            <div class="col-sm-4">
                        <div class="blue-circle animation1">
                             <div>
                             <i class="fa fa-book"></i>

                            </div>
                        </div>
                     
                            </div>
                    </div>
              </div>
                <div class="features-image text-center col-sm-4">
                    <img src="img/features.jpg">

                </div>

                <div class="right-features col-sm-4">                
                <div class="item-feature row">
                        <div class="content col-sm-8 col-sm-push-4 text-right">
                            <h4>GitHub</h4>
                           <p>Feel free to download this game from GitHub and fork it to contribute to this project.
                        </div> 

                            <div class="col-sm-4 col-sm-pull-8">
                        <div class="blue-circle animation2">
                             <div>
                             <i class="fa fa-github"></i>

                            </div>
                        </div>
                     
                            </div>
                    </div>
                    <div class="item-feature row">
                        <div class="content col-sm-8 col-sm-push-4 text-right">
                            <h4>Donations</h4>
                            <p>Don't really need it. But could use extra pocket change for a brewski on Fridays.</p>
                        </div> 

                            <div class="col-sm-4 col-sm-pull-8">
                        <div class="blue-circle animation2">
                             <div>
                             <i class="fa fa-cc-paypal"></i>

                            </div>
                        </div>
                     
                            </div>
                    </div>
                    <div class="item-feature row">
                        <div class="content col-sm-8 col-sm-push-4 text-right">
                            <h4>Important</h4>
                            <p>Getting wrecked by dragons with your friends is more fun than getting wrecked alone.</p>
                        </div> 

                            <div class="col-sm-4 col-sm-pull-8">
                        <div class="blue-circle animation2">
                             <div>
                             <i class="fa fa-html5"></i>
                            </div>  
                        </div>
                     
                            </div>
                    </div>
                    <div class="item-feature row">
                        <div class="content col-sm-8 col-sm-push-4 text-right">
                            <h4>Important</h4>
                            <p>Getting wrecked by dragons with your friends is more fun than getting wrecked alone.</p>
                        </div> 

                            <div class="col-sm-4 col-sm-pull-8">
                        <div class="blue-circle animation2">
                             <div>
                             <i class="fa fa-html5"></i>
                            </div>
                        </div>
                     
                            </div>
                    </div>

             </div>
    </div>

    </div>

</section>

<section id="screenshots" class="screenshots">
    <h2 class="text-center text-uppercase">Images</h2>

        <div class="container">
            <div class="row">
                <div class="col-sm-4 animation1">
                    <a href="#modal" data-toggle="modal" data-image-url="img/bahamut.png">
                        <img class="img-responsive" src="img/bahamut.png">
                    </a>
               </div>
         <div class="col-sm-4 animation2 ">
                    <a href="#modal" data-toggle="modal" data-image-url="img/fourdragon.png">
                        <img class="img-responsive" src="img/fourdragon.png">
                    </a>
        </div>
         <div class="col-sm-4 animation3">
                    <a href="#modal" data-toggle="modal" data-image-url="img/dragon.png">
                        <img class="img-responsive" src="img/dragon.png">
                    </a>
        </div>

         </div>

    </div>

     <div id="modal" class="modal fade" tabIndex="-1" role="dialog" aria-labelledby="modal"aria-hidden="true">
            <div class="modal-body">
            <img src="#">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
            </div>
    </div>
</section>

<section id="parallax" class="parallax">
    <h2 class="parallax text-center"></h2>
    
</section>

<section id="slider" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">

        <div class="item active">
            <img src="img/bahamut.png">
        </div>
        <div class="item">
            <img src="img/dragon.png">
        </div>
      
       <div class="item">
            <img src="img/blackdragon.png">
        </div>

       
        </div>
    </div>
    <a class="left carousel-control" href="#slider" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
     <a class="right carousel-control" href="#slider" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
    <ol class="carousel-indicators">
        <li data-target="#slider" data-slide-to="0" class="active"></li>
        <li data-target="#slider" data-slide-to="1"></li>
        <li data-target="#slider" data-slide-to="2"></li>

    </ol>
</section>

<section id="download" class="download">
    <h2 class="text-center text-uppercase">Download</h2>

        <div class="container-fluid">
            <div class="row">
                <div class="content-downloads clearfix">
                    <div class="phone">
                        <img src="img/fireice.gif" width="912"  class="img-responsive animation1">
                    </div>
                    <div class="downloads-empty"></div>
                    <div class="container download">
                        <div class="row">
                        <div class="col-sm-5 col-sm-offset-7">
                            <h2 class="text-center text-uppercase">Choose your journey</h2>
                            <section class="platforms text-center">
                                <div class="col-md-5 col-sm-6 animation2">
                                    <i class="fa fa-apple"></i>
                                Download for <b> Apple iOS </b>
                                </div>
                                <div class="col-md-5 col-md-offset-2 col-sm-6 animation3">
                                     <a href="https://github.com/lauwillis/game"><i class="fa fa-github"></i>

                                Fork game in <b> GitHub </b></a>
                                </div>

                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</section>

<section id="tutorial"> 

<h2><p class="tutorial text-center text-uppercase">Tutorial to make this game! </p></h2>


<h3><p class="coming text-center text-uppercase">Coming Soon!</p></h3>

<div id="mp3_player">
    <div id="audio_box"></div>

    <canvas id="analyser_render"></canvas>


</div>


</section>

<section id="game"> 

<h2><p class="game text-center">See how long you can survive... Good Luck! </p></h2>

<canvas id="ctx" width="900" height="700" style="border:3px solid white;"></canvas>
<script> 


var ctx = document.getElementById("ctx").getContext("2d"); 
ctx.font = '30px Arial';


var WIDTH = 900;
var HEIGHT = 700;


var timeWhenGameStarted = Date.now();   //return time in ms

var frameCount = 0;

var score = 0;
var paused = true;
var Img = {};
Img.player = new Image();
Img.player.src = "img/thief.png";


Img.bahamut = new Image();
Img.bahamut.src = 'img/bahamut.png';

// Img.leviathan = new Image();
// Img.leviathan.src = 'img/leviathan.png';

Img.fourdragon = new Image();
Img.fourdragon.src = 'img/fourdragon.png';

Img.dragon = new Image();
Img.dragon.src = 'img/dragon.png';

imgE = new Image();
imgE.src = 'img/fireball.png';

Img.bulletEnemy = new Image();
Img.bulletEnemy.src = 'img/fireball.png';

Img.bulletPlayer = new Image();
Img.bulletPlayer.src = 'img/bullet.png';

Img.upgrade1 = new Image();
Img.upgrade1.src = 'img/upgrade1.png';

Img.upgrade2 = new Image();
Img.upgrade2.src = 'img/upgrade2.png';



testCollisionRectRect = function(rect1,rect2){
    return rect1.x <= rect2.x+rect2.width 
        && rect2.x <= rect1.x+rect1.width
        && rect1.y <= rect2.y + rect2.height
        && rect2.y <= rect1.y + rect1.height;
}

document.onmousedown = function(mouse){
    if(mouse.which === 1)
    player.pressingMouseLeft = true;
    else
        player.pressingMouseRight = true;
}
document.onmouseup = function(mouse){
    if(mouse.which === 1)
    player.pressingMouseLeft = false;
    else
        player.pressingMouseRight = false;
}

document.oncontextmenu = function(mouse){
    mouse.preventDefault();
}

document.onmousemove = function(mouse){
    var mouseX = mouse.clientX - document.getElementById('ctx').getBoundingClientRect().left;
    var mouseY = mouse.clientY - document.getElementById('ctx').getBoundingClientRect().top;
    
    mouseX -= WIDTH/2;
    mouseY -= HEIGHT/2;
    
    player.aimAngle = Math.atan2(mouseY,mouseX) / Math.PI * 180;
}

document.onkeydown = function(event){
    if(event.keyCode === 68)    //d
        player.pressingRight = true;
    else if(event.keyCode === 83)   //s
        player.pressingDown = true;
    else if(event.keyCode === 65) //a
        player.pressingLeft = true;
    else if(event.keyCode === 87) // w
        player.pressingUp = true;


    else if(event.keyCode === 80) // p
        paused = !paused;
}

document.onkeyup = function(event){
    if(event.keyCode === 68)    //d
        player.pressingRight = false;
    else if(event.keyCode === 83)   //s
        player.pressingDown = false;
    else if(event.keyCode === 65) //a
        player.pressingLeft = false;
    else if(event.keyCode === 87) // w
        player.pressingUp = false;
}

update = function(){

    if(paused){
        ctx.fillText('Paused',WIDTH/2,HEIGHT/2);
        return;
    }
    ctx.clearRect(0,0,WIDTH,HEIGHT);
    currentMap.draw();
    frameCount++;
    score++;
    Bullet.update();
    Upgrade.update();
    Enemy.update();

    player.update();
    
    ctx.fillText(player.hp + " Hp",0,30);
    ctx.fillText('Score: ' + score,200,30)
    ctx.fillStyle="#FFDC00";
    ctx.font = '20px "Press Start 2P"';
}


startNewGame = function(){
    player.hp = 999;
    timeWhenGameStarted = Date.now() /1000;
    frameCount = 0;
    score = 0;
    Enemy.List = {};
    Upgrade.List = {};
    Bullet.List = {};
    randomlyGenerateEnemy();
    randomlyGenerateEnemy();
    randomlyGenerateEnemy();
    
}


Maps = function(id,imgSrc,width,height){
    var self = {
        id:id,
        image:new Image(),
        width:width,
        height:height   
    }
    self.image.src = imgSrc;
    
    
    self.draw = function(){
        var x = WIDTH/2 - player.x;
        var y = HEIGHT/2 - player.y;
        ctx.drawImage(self.image,0,0,self.image.width,self.image.height,x,y,self.image.width*2,self.image.height*2);
    }
    return self;
}


currentMap = Maps('field','img/map3.png',1280,960);




player = Player();
startNewGame();

setInterval(update,40);




</script>

</section>
<script src ="js/audio.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/smooth-scroll.js"></script>
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/main.js"></script>
</body>
</html>
